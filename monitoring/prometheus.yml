global:
  scrape_interval: 15s # How frequently to scrape targets
  evaluation_interval: 15s # How frequently to evaluate rules

alerting:
  alertmanagers:
    - static_configs:
        - targets: [] # Add Alertmanager target if you set it up

rule_files:
  - "alerts.yml"

scrape_configs:
  - job_name: "prometheus"
    static_configs:
      - targets: ["localhost:9090"]

  - job_name: "kong-gateway"
    metrics_path: /metrics
    static_configs:
      - targets: ["kong:8001"] # Kong admin API

  # You would add a /metrics endpoint to each FastAPI app
  # using prometheus_client to get these.
  - job_name: "auth-service"
    metrics_path: /metrics
    static_configs:
      - targets: ["auth-service:8001"]

  - job_name: "user-service"
    metrics_path: /metrics
    static_configs:
      - targets: ["user-service:8002"]

  - job_name: "transaction-service"
    metrics_path: /metrics
    static_configs:
      - targets: ["transaction-service:8003"]

  # Add other services here...
  - job_name: "chat-service"
    metrics_path: /metrics
    static_configs:
      - targets: ["chat-service:8010"]

  # Add exporters for databases
  # - job_name: 'postgres'
  #   static_configs:
  #     - targets: ['postgres-exporter:9187']